{% extends 'base.html' %}
{% block title %}Internships - InternTrack{% endblock %}
{% block content %}
<div class="mb-6">
  <h2 class="text-xl font-semibold">Internships</h2>
  <p class="text-sm text-gray-500">Browse and filter internships</p>
</div>

<!-- TODO:   WORK  on filter and seatch -->
<div class="mb-6">
  <!-- Stats Section -->
  <div id="stats" class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-4"></div>
  
  <!-- Main Content Card -->
  <div class="bg-white shadow rounded overflow-hidden">
    <!-- Header with Filters -->
    <div class="p-4 border-b header-gradient">
      <!-- Primary Search Row -->
      <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-3">
        <div class="flex-1">
          <input 
            id="search" 
            placeholder="Search title, company, location..." 
            class="border border-gray-300 rounded-lg px-4 py-2 w-full focus-accent transition" 
          />
        </div>
        <button 
          id="exportCsv" 
          class="btn-accent px-4 py-2 rounded-lg transition flex items-center gap-2 whitespace-nowrap"
        >
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
          </svg>
          Export CSV
        </button>
      </div>

      <!-- Filter Grid -->
      <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-3">
        <!-- Status Filter -->
        <div>
          <label class="block text-xs font-medium text-gray-700 mb-1">Status</label>
          <select id="statusFilter" class="border border-gray-300 rounded-lg px-3 py-2 w-full text-sm focus-accent transition">
            <option value="">All status</option>
            <option value="Open">Open</option>
            <option value="Closed">Closed</option>
          </select>
        </div>

        <!-- Remote Filter -->
        <div>
          <label class="block text-xs font-medium text-gray-700 mb-1">Work Type</label>
          <select id="remoteFilter" class="border border-gray-300 rounded-lg px-3 py-2 w-full text-sm focus-accent transition">
            <option value="">Any</option>
            <option value="1">Remote</option>
            <option value="0">On-site</option>
          </select>
        </div>

        <!-- Industry Filter -->
        <div>
          <label class="block text-xs font-medium text-gray-700 mb-1">Industry</label>
          <input 
            id="industry" 
            class="border border-gray-300 rounded-lg px-3 py-2 w-full text-sm focus-accent transition" 
            placeholder="e.g. Tech" 
          />
        </div>

        <!-- Location Filter -->
        <div>
          <label class="block text-xs font-medium text-gray-700 mb-1">Location</label>
          <input 
            id="location" 
            class="border border-gray-300 rounded-lg px-3 py-2 w-full text-sm focus-accent transition" 
            placeholder="e.g. Casablanca" 
          />
        </div>

        <!-- Salary Min Filter -->
        <div>
          <label class="block text-xs font-medium text-gray-700 mb-1">Salary min</label>
          <input 
            id="salaryMin" 
            type="number" 
            class="border border-gray-300 rounded-lg px-3 py-2 w-full text-sm focus-accent transition" 
          />
        </div>

        <!-- Salary Max Filter -->
        <div>
          <label class="block text-xs font-medium text-gray-700 mb-1">Salary max</label>
          <input 
            id="salaryMax" 
            type="number" 
            class="border border-gray-300 rounded-lg px-3 py-2 w-full text-sm focus-accent transition" 
          />
        </div>
        <!-- Apply Button Row -->
        <div class="mt-3">

          <button 
            id="applyFilters" 
            class="btn-accent-dark px-6 py-2 rounded-lg h-full transition font-medium text-sm"
          >
            Apply Filters
          </button>
        </div>
      </div>

    </div>

    <!-- Table Section -->
    <div id="list" class="p-4">
      <div id="loading" class="text-center py-12">Loading...</div>
      <table id="table" class="min-w-full hidden">
        <thead class="text-sm text-gray-600 bg-gray-50">
          <tr>
            <th class="p-3 text-left">Company</th>
            <th class="p-3 text-left">Title</th>
            <th class="p-3 text-left">Location</th>
            <th class="p-3 text-left">Status</th>
            <th class="p-3 text-left">Posted</th>
            <th class="p-3 text-left">Actions</th>
          </tr>
        </thead>
        <tbody id="rows"></tbody>
      </table>
    </div>
  </div>
</div>

<div id="pagination" class="mt-4"></div>

<!-- modal placeholder -->
<div id="modal" class="fixed inset-0 bg-black/40 hidden items-center justify-center">
  <div id="modalContent" class="bg-white rounded shadow max-w-3xl w-full p-6"></div>
</div>

{% endblock %}
{% block scripts %}
<script>
window.PAGE_TYPE = 'internships';
</script>
{% endblock %}
