<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{ resume.header.name }} - Resume</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Times New Roman", Times, serif;
        font-size: 11pt;
        line-height: 1.15;
        color: #000;
        background: #fff;
        padding: 0.5in 0.75in;
      }

      .resume {
        max-width: 8.5in;
        margin: 0 auto;
      }

      .header {
        text-align: center;
        margin-bottom: 8pt;
      }

      .header h1 {
        font-size: 20pt;
        font-weight: bold;
        margin-bottom: 2pt;
      }

      .contact {
        font-size: 10pt;
        line-height: 1.3;
      }

      .contact a {
        color: #000;
        text-decoration: underline;
      }

      .section {
        margin-bottom: 10pt;
      }

      .section-title {
        font-size: 11pt;
        font-weight: bold;
        text-transform: uppercase;
        border-bottom: 1px solid #000;
        margin-bottom: 4pt;
        padding-bottom: 1pt;
      }

      .item {
        margin-bottom: 8pt;
      }

      .item-header {
        display: flex;
        justify-content: space-between;
        font-weight: bold;
        margin-bottom: 2pt;
      }

      .item-subheader {
        display: flex;
        justify-content: space-between;
        font-style: italic;
        margin-bottom: 3pt;
      }

      .item-description ul {
        margin-left: 20pt;
        margin-top: 2pt;
      }

      .item-description li {
        margin-bottom: 3pt;
      }

      .skills-list {
        margin-left: 0;
        list-style: none;
      }

      .skills-list li {
        margin-bottom: 2pt;
      }

      .skills-list strong {
        display: inline-block;
        width: 120pt;
      }

      @media print {
        body {
          padding: 0.5in 0.75in;
        }
        center {
          visibility: hidden;
        }
      }

      @media (max-width: 768px) {
        body {
          padding: 0.25in;
          font-size: 10pt;
        }

        .item-header,
        .item-subheader {
          flex-direction: column;
        }
      }
    </style>
  </head>
  <body>
    <center class="note resume" style="background-color: aliceblue;padding: 6px;">
      You can print this out by clicking Crtl + P (we will use a btter way
      later)
    </center>
    <div class="resume">
      <header class="header">
        <h1>{{ resume.header.name }}</h1>
        <div class="contact">
          <div>
            {{ resume.header.phone }} | {{ resume.header.email }} {% if
            resume.header.linkedin_url %} | {{ resume.header.linkedin_url }} {%
            endif %} {% if resume.header.github_url %} | {{
            resume.header.github_url }} {% endif %} {% if resume.header.location
            %} | {{ resume.header.location }} {% endif %}
          </div>
        </div>
      </header>

      {% if resume.education %}
      <section class="section">
        <h2 class="section-title">Education</h2>
        {% for edu in resume.education %}
        <div class="item">
          <div class="item-header">
            <span>{{ edu.institution }}</span>
            <span>{{ edu.location }}</span>
          </div>
          <div class="item-subheader">
            <span
              >{{ edu.degree }}{% if edu.field_of_study %} in {{
              edu.field_of_study }}{% endif %}</span
            >
            <span>{{ edu.end_date if edu.end_date else 'Present' }}</span>
          </div>
          {% if edu.coursework %}
          <!-- Assuming coursework might be added later or part of description -->
          <div style="margin-top: 2pt">
            <strong>Relevant Coursework:</strong> {{ edu.coursework }}
          </div>
          {% endif %}
        </div>
        {% endfor %}
      </section>
      {% endif %} {% if resume.experience %}
      <section class="section">
        <h2 class="section-title">Experience</h2>
        {% for exp in resume.experience %}
        <div class="item">
          <div class="item-header">
            <span>{{ exp.company }}</span>
            <span>{{ exp.location }}</span>
          </div>
          <div class="item-subheader">
            <span><em>{{ exp.title }}</em></span>
            <span
              >{{ exp.start_date }} â€“ {{ exp.end_date if exp.end_date else
              'Present' }}</span
            >
          </div>
          <div class="item-description">
            <ul>
              {% for bullet in exp.bullets %}
              <li>{{ bullet }}</li>
              {% endfor %}
            </ul>
          </div>
        </div>
        {% endfor %}
      </section>
      {% endif %} {% if resume.projects %}
      <section class="section">
        <h2 class="section-title">Projects</h2>
        {% for project in resume.projects %}
        <div class="item">
          <div class="item-header">
            <span
              ><strong>{{ project.title }}</strong> | {{
              project.tech_stack|join(', ') }}</span
            >
            <!-- Date is not strictly in Project model but could be useful if added -->
          </div>
          <div class="item-description">
            <ul>
              {% for bullet in project.bullets %}
              <li>{{ bullet }}</li>
              {% endfor %}
            </ul>
          </div>
        </div>
        {% endfor %}
      </section>
      {% endif %} {% if resume.skills %}
      <section class="section">
        <h2 class="section-title">Technical Skills</h2>
        <ul class="skills-list">
          <!-- 
                     The Pydantic model has a flat list of strings for skills.
                     The template example shows categorized skills. 
                     For now, we will display them as a comma separated list or just list items.
                     Since the Pydantic model is flexible (just strings), we can either dump them all 
                     or try to categorize if the LLM provided categories.
                     Given the current model is `skills: list[str]`, we'll just list them.
                     However, the example HTML had categories. 
                     If the LLM returns strings like "Languages: Python, Java", we can key off that?
                     Or we just list them all.
                     For better presentation matching the template, we might want to group them if possible,
                     but without structure we'll just list them.
                -->
          <li>{{ resume.skills|join(', ') }}</li>
        </ul>
      </section>
      {% endif %}
    </div>
  </body>
</html>
